import{i as e,r as t,s as n}from"../sxng-core.min.js";import{t as r}from"./13gvpunf.min.js";var i,a=async()=>{if(!i){try{i=await(await t(`GET`,`engine_descriptions.json`)).json()}catch(e){console.error(`Error fetching engineDescriptions:`,e)}if(i)for(let[e,[t,r]]of Object.entries(i)){let i=document.querySelectorAll(`[data-engine-name="${e}"] .engine-description`),a=` (<i>${n.translations?.Source}:&nbsp;${r}</i>)`;for(let e of i)e.innerHTML=t+a}}},o=(e,t)=>{for(let n of t)n.offsetParent&&(n.checked=!e)},s=document.querySelectorAll(`[data-engine-name]`);for(let t of s)e(`mouseenter`,t,a);var c=document.querySelectorAll(`tbody input[type=checkbox][class~=checkbox-onoff]`),l=document.querySelectorAll(`.enable-all-engines`);for(let t of l)e(`click`,t,()=>o(!0,c));var u=document.querySelectorAll(`.disable-all-engines`);for(let t of u)e(`click`,t,()=>o(!1,c));e(`click`,`#copy-hash`,async function(){let e=this.parentElement?.querySelector(`pre`);if(r(e),window.isSecureContext)await navigator.clipboard.writeText(e.innerText);else{let t=window.getSelection();if(t){let n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),document.execCommand(`copy`)}}let t=this.dataset.copiedText;t&&(this.innerText=t)});var d=document.getElementById(`alarm_volume`),f=document.getElementById(`alarm_volume_display`);d&&f&&d.addEventListener(`input`,()=>{f.textContent=`${d.value}%`});var _ctx=null,_oscs=[],_gains=[],_stopSound=()=>{for(let o of _oscs)try{o.stop()}catch{}for(let g of _gains)try{g.disconnect()}catch{}_oscs=[];_gains=[]},_AlarmSounds={gentle_birds:(ctx,vol)=>{const playChirp=()=>{const osc=ctx.createOscillator(),gain=ctx.createGain();osc.type=`sine`;osc.frequency.setValueAtTime(2000+Math.random()*1000,ctx.currentTime);osc.frequency.exponentialRampToValueAtTime(3000+Math.random()*500,ctx.currentTime+0.05);osc.frequency.exponentialRampToValueAtTime(1800+Math.random()*400,ctx.currentTime+0.1);gain.gain.setValueAtTime(0,ctx.currentTime);gain.gain.linearRampToValueAtTime(vol*0.3,ctx.currentTime+0.02);gain.gain.linearRampToValueAtTime(0,ctx.currentTime+0.15);osc.connect(gain).connect(ctx.destination);osc.start(ctx.currentTime);osc.stop(ctx.currentTime+0.15);_oscs.push(osc);_gains.push(gain)};for(let i=0;i<5;i++)setTimeout(playChirp,i*200+Math.random()*100)},ocean_waves:(ctx,vol)=>{const bufferSize=ctx.sampleRate*2,buffer=ctx.createBuffer(1,bufferSize,ctx.sampleRate),data=buffer.getChannelData(0);for(let i=0;i<bufferSize;i++)data[i]=Math.random()*2-1;const noise=ctx.createBufferSource();noise.buffer=buffer;const filter=ctx.createBiquadFilter();filter.type=`lowpass`;filter.frequency.setValueAtTime(400,ctx.currentTime);filter.frequency.linearRampToValueAtTime(800,ctx.currentTime+1);filter.frequency.linearRampToValueAtTime(300,ctx.currentTime+2);const gain=ctx.createGain();gain.gain.setValueAtTime(0,ctx.currentTime);gain.gain.linearRampToValueAtTime(vol*0.4,ctx.currentTime+0.5);gain.gain.linearRampToValueAtTime(vol*0.2,ctx.currentTime+1.5);gain.gain.linearRampToValueAtTime(0,ctx.currentTime+2);noise.connect(filter).connect(gain).connect(ctx.destination);noise.start();noise.stop(ctx.currentTime+2);_gains.push(gain)},soft_chimes:(ctx,vol)=>{const freqs=[523.25,659.25,783.99,1046.5,1318.5];freqs.forEach((freq,i)=>{setTimeout(()=>{const osc=ctx.createOscillator(),gain=ctx.createGain();osc.type=`sine`;osc.frequency.value=freq;gain.gain.setValueAtTime(0,ctx.currentTime);gain.gain.linearRampToValueAtTime(vol*0.25,ctx.currentTime+0.01);gain.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+2);osc.connect(gain).connect(ctx.destination);osc.start();osc.stop(ctx.currentTime+2);_oscs.push(osc);_gains.push(gain)},i*300)})},morning_forest:(ctx,vol)=>{const bufferSize=ctx.sampleRate*2,buffer=ctx.createBuffer(1,bufferSize,ctx.sampleRate),data=buffer.getChannelData(0);for(let i=0;i<bufferSize;i++)data[i]=Math.random()*2-1;const noise=ctx.createBufferSource();noise.buffer=buffer;const filter=ctx.createBiquadFilter();filter.type=`lowpass`;filter.frequency.value=200;const gain=ctx.createGain();gain.gain.value=vol*0.15;noise.connect(filter).connect(gain).connect(ctx.destination);noise.start();noise.stop(ctx.currentTime+2);_gains.push(gain);_AlarmSounds.gentle_birds(ctx,vol*0.7)},meditation_bell:(ctx,vol)=>{const fundamental=220,harmonics=[1,2.4,3.8,5.4];harmonics.forEach((mult,i)=>{const osc=ctx.createOscillator(),gain=ctx.createGain();osc.type=`sine`;osc.frequency.value=fundamental*mult;const harmGain=vol*(0.5/(i+1));gain.gain.setValueAtTime(harmGain,ctx.currentTime);gain.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+4);osc.connect(gain).connect(ctx.destination);osc.start();osc.stop(ctx.currentTime+4);_oscs.push(osc);_gains.push(gain)})},gentle_piano:(ctx,vol)=>{const notes=[261.63,329.63,392.0,523.25];notes.forEach((freq,i)=>{setTimeout(()=>{const osc=ctx.createOscillator(),osc2=ctx.createOscillator(),gain=ctx.createGain();osc.type=`triangle`;osc2.type=`sine`;osc.frequency.value=freq;osc2.frequency.value=freq*2;gain.gain.setValueAtTime(vol*0.3,ctx.currentTime);gain.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+1.5);osc.connect(gain);osc2.connect(gain);gain.connect(ctx.destination);osc.start();osc2.start();osc.stop(ctx.currentTime+1.5);osc2.stop(ctx.currentTime+1.5);_oscs.push(osc,osc2);_gains.push(gain)},i*400)})},classic_alarm:(ctx,vol)=>{const ring=(time)=>{const osc=ctx.createOscillator(),gain=ctx.createGain();osc.type=`square`;osc.frequency.setValueAtTime(1200,ctx.currentTime+time);gain.gain.setValueAtTime(0,ctx.currentTime+time);gain.gain.linearRampToValueAtTime(vol*0.2,ctx.currentTime+time+0.01);gain.gain.linearRampToValueAtTime(0,ctx.currentTime+time+0.05);osc.connect(gain).connect(ctx.destination);osc.start(ctx.currentTime+time);osc.stop(ctx.currentTime+time+0.05);_oscs.push(osc);_gains.push(gain)};for(let i=0;i<20;i++)ring(i*0.1)},digital_beep:(ctx,vol)=>{const beep=(time,dur)=>{const osc=ctx.createOscillator(),gain=ctx.createGain();osc.type=`square`;osc.frequency.value=1000;gain.gain.setValueAtTime(vol*0.25,ctx.currentTime+time);gain.gain.setValueAtTime(0,ctx.currentTime+time+dur);osc.connect(gain).connect(ctx.destination);osc.start(ctx.currentTime+time);osc.stop(ctx.currentTime+time+dur+0.01);_oscs.push(osc);_gains.push(gain)};beep(0,0.1);beep(0.2,0.1);beep(0.4,0.1);beep(0.8,0.1);beep(1.0,0.1);beep(1.2,0.1)},urgent_buzzer:(ctx,vol)=>{const osc=ctx.createOscillator(),osc2=ctx.createOscillator(),gain=ctx.createGain();osc.type=`sawtooth`;osc2.type=`square`;osc.frequency.value=150;osc2.frequency.value=155;gain.gain.value=vol*0.35;osc.connect(gain);osc2.connect(gain);gain.connect(ctx.destination);osc.start();osc2.start();const lfo=ctx.createOscillator(),lfoGain=ctx.createGain();lfo.frequency.value=8;lfoGain.gain.value=vol*0.15;lfo.connect(lfoGain).connect(gain.gain);lfo.start();setTimeout(()=>{osc.stop();osc2.stop();lfo.stop()},2000);_oscs.push(osc,osc2,lfo);_gains.push(gain,lfoGain)},retro_alarm:(ctx,vol)=>{const hit=(time,freq)=>{const osc=ctx.createOscillator(),gain=ctx.createGain();osc.type=`triangle`;osc.frequency.setValueAtTime(freq,ctx.currentTime+time);osc.frequency.exponentialRampToValueAtTime(freq*0.5,ctx.currentTime+time+0.2);gain.gain.setValueAtTime(vol*0.4,ctx.currentTime+time);gain.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+time+0.2);osc.connect(gain).connect(ctx.destination);osc.start(ctx.currentTime+time);osc.stop(ctx.currentTime+time+0.2);_oscs.push(osc);_gains.push(gain)};for(let i=0;i<16;i++)hit(i*0.125,i%2===0?2400:2000)},starship_alert:(ctx,vol)=>{const osc=ctx.createOscillator(),gain=ctx.createGain();osc.type=`sine`;gain.gain.value=vol*0.35;osc.connect(gain).connect(ctx.destination);osc.frequency.setValueAtTime(400,ctx.currentTime);osc.frequency.linearRampToValueAtTime(800,ctx.currentTime+0.5);osc.frequency.linearRampToValueAtTime(400,ctx.currentTime+1);osc.frequency.linearRampToValueAtTime(800,ctx.currentTime+1.5);osc.frequency.linearRampToValueAtTime(400,ctx.currentTime+2);osc.start();osc.stop(ctx.currentTime+2);_oscs.push(osc);_gains.push(gain)},red_alert:(ctx,vol)=>{const osc=ctx.createOscillator(),osc2=ctx.createOscillator(),gain=ctx.createGain();osc.type=`sawtooth`;osc2.type=`square`;gain.gain.value=vol*0.4;osc.connect(gain);osc2.connect(gain);gain.connect(ctx.destination);const pattern=[600,450];let idx=0;const interval=setInterval(()=>{osc.frequency.value=pattern[idx];osc2.frequency.value=pattern[idx]*1.5;idx=(idx+1)%2},250);osc.start();osc2.start();setTimeout(()=>{clearInterval(interval);osc.stop();osc2.stop()},2000);_oscs.push(osc,osc2);_gains.push(gain)}},_playSound=(name,vol)=>{_stopSound();if(!_ctx)_ctx=new AudioContext();let v=Math.max(0,Math.min(1,vol/100));const fn=_AlarmSounds[name];if(fn)fn(_ctx,v)};window.testAlarmSound=_playSound;var p=document.getElementById(`test_alarm_sound`),m=document.getElementById(`alarm_sound`);p&&m&&d&&p.addEventListener(`click`,()=>{_playSound(m.value,Number.parseInt(d.value,10))});var showNotification=()=>{let e=document.createElement(`div`);e.className=`clock-saved-notification`;e.textContent=`Clock settings saved!`;e.setAttribute(`role`,`alert`);document.body.appendChild(e);requestAnimationFrame(()=>{e.classList.add(`show`)});setTimeout(()=>{e.classList.remove(`show`);setTimeout(()=>e.remove(),300)},3000)},saveBtn=document.querySelector(`input[type="submit"]`);if(saveBtn){saveBtn.addEventListener(`click`,()=>{const featuresTab=document.getElementById(`tab-features`);if(featuresTab&&featuresTab.checked){const hasClockSetting=document.getElementById(`clock_enabled`)||document.getElementById(`clock_format`)||document.getElementById(`alarm_time`)||document.getElementById(`alarm_sound`)||document.getElementById(`alarm_volume`);if(hasClockSetting)showNotification()}})}var h=document.getElementById(`enable_notifications`),g=document.getElementById(`notification_status`);if(h&&g){let e=()=>{if(!(`Notification`in window)){g.textContent=`Not supported`;g.className=`notification-status denied`;h.style.display=`none`;return}Notification.permission===`granted`?(g.textContent=`Enabled`,g.className=`notification-status granted`,h.style.display=`none`):Notification.permission===`denied`?(g.textContent=`Blocked`,g.className=`notification-status denied`,h.style.display=`none`):(g.textContent=``,h.style.display=`inline-block`)};e();h.addEventListener(`click`,async()=>{let t=window.requestNotificationPermission;t?await t():`Notification`in window&&await Notification.requestPermission();e()})}
//# sourceMappingURL=BtmaEFMA.min.js.map